-- Create foods table for nutritional tracking
CREATE TABLE public.foods (
  id SERIAL PRIMARY KEY,
  nombre TEXT NOT NULL,
  racion NUMERIC NOT NULL,
  unidad TEXT NOT NULL,
  calorias NUMERIC NOT NULL,
  proteinas NUMERIC NOT NULL,
  carbohidratos NUMERIC NOT NULL,
  grasas NUMERIC NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()
);

-- Enable Row Level Security
ALTER TABLE public.foods ENABLE ROW LEVEL SECURITY;

-- Allow all users to read foods (public reference data)
CREATE POLICY "Anyone can view foods"
ON public.foods
FOR SELECT
USING (true);

-- Create index for faster searches
CREATE INDEX idx_foods_nombre ON public.foods(nombre);

-- Insert food data from CSV
INSERT INTO public.foods (id, nombre, racion, unidad, calorias, proteinas, carbohidratos, grasas) VALUES
(1, 'Huevo entero', 100, 'g', 143, 13.0, 1.1, 9.5),
(2, 'Huevo (1 unidad aprox 50g)', 50, 'g', 72, 6.3, 0.6, 4.8),
(3, 'Plátano', 100, 'g', 89, 1.1, 22.8, 0.3),
(4, 'Manzana', 100, 'g', 52, 0.3, 14.0, 0.2),
(5, 'Naranja', 100, 'g', 47, 0.9, 12.0, 0.1),
(6, 'Pan blanco', 100, 'g', 265, 9.0, 49.0, 3.2),
(7, 'Pan integral', 100, 'g', 247, 13.0, 41.0, 4.2),
(8, 'Arroz blanco cocido', 100, 'g', 130, 2.4, 28.0, 0.3),
(9, 'Arroz integral cocido', 100, 'g', 111, 2.6, 23.0, 0.9),
(10, 'Pasta cocida', 100, 'g', 131, 5.0, 25.0, 1.1),
(11, 'Avena cruda', 100, 'g', 389, 16.9, 66.3, 6.9),
(12, 'Leche entera', 100, 'ml', 61, 3.2, 4.8, 3.3),
(13, 'Leche descremada', 100, 'ml', 34, 3.4, 5.0, 0.1),
(14, 'Yogur natural entero', 100, 'g', 61, 3.5, 4.7, 3.3),
(15, 'Queso cheddar', 100, 'g', 403, 24.9, 1.3, 33.1),
(16, 'Mantequilla', 100, 'g', 717, 0.9, 0.1, 81.1),
(17, 'Aceite de oliva', 100, 'g', 884, 0.0, 0.0, 100.0),
(18, 'Aguacate', 100, 'g', 160, 2.0, 9.0, 15.0),
(19, 'Pollo pechuga sin piel (cruda)', 100, 'g', 165, 31.0, 0.0, 3.6),
(20, 'Pollo pechuga (cocida)', 100, 'g', 165, 31.0, 0.0, 3.6),
(21, 'Carne de res magra (cruda)', 100, 'g', 250, 26.0, 0.0, 15.0),
(22, 'Carne de res magra (cocida)', 100, 'g', 217, 26.1, 0.0, 11.8),
(23, 'Pescado salmón (crudo)', 100, 'g', 208, 20.4, 0.0, 13.4),
(24, 'Atún en agua (enlatado)', 100, 'g', 116, 26.0, 0.0, 0.8),
(25, 'Camarón (crudo)', 100, 'g', 99, 24.0, 0.2, 0.3),
(26, 'Pavo (pechuga, cocida)', 100, 'g', 135, 29.0, 0.0, 1.0),
(27, 'Jamón de pavo', 100, 'g', 145, 20.0, 2.0, 6.0),
(28, 'Tocino (cocido)', 100, 'g', 541, 37.0, 1.4, 42.0),
(29, 'Carne de cerdo (lomo, cocido)', 100, 'g', 242, 27.0, 0.0, 14.0),
(30, 'Frijoles negros cocidos', 100, 'g', 132, 8.9, 23.7, 0.5),
(31, 'Lentejas cocidas', 100, 'g', 116, 9.0, 20.1, 0.4),
(32, 'Garbanzos cocidos', 100, 'g', 164, 8.9, 27.4, 2.6),
(33, 'Tofu firme', 100, 'g', 76, 8.0, 1.9, 4.8),
(34, 'Soja (granos cocidos)', 100, 'g', 172, 16.6, 9.9, 9.0),
(35, 'Almendras', 100, 'g', 579, 21.2, 21.6, 49.9),
(36, 'Nueces', 100, 'g', 654, 15.2, 13.7, 65.2),
(37, 'Cacahuate (maní)', 100, 'g', 567, 25.8, 16.1, 49.2),
(38, 'Mantequilla de cacahuate', 100, 'g', 588, 25.0, 20.0, 50.0),
(39, 'Semillas de chía', 100, 'g', 486, 16.5, 42.1, 30.7),
(40, 'Quinoa (cocida)', 100, 'g', 120, 4.4, 21.3, 1.9),
(41, 'Patata (cocida)', 100, 'g', 87, 1.9, 20.1, 0.1),
(42, 'Batata (camote) cocida', 100, 'g', 90, 2.0, 20.7, 0.1),
(43, 'Maíz amarillo (cocido)', 100, 'g', 96, 3.4, 19.0, 1.5),
(44, 'Harina de trigo (100g)', 100, 'g', 364, 10.3, 76.3, 1.0),
(45, 'Azúcar (granulada)', 100, 'g', 387, 0.0, 100.0, 0.0),
(46, 'Miel', 100, 'g', 304, 0.3, 82.4, 0.0),
(47, 'Chocolate negro 70%', 100, 'g', 598, 7.8, 46.0, 42.6),
(48, 'Helado (vainilla)', 100, 'g', 207, 3.5, 24.0, 11.0),
(49, 'Yogur griego natural (entero)', 100, 'g', 97, 9.0, 3.6, 5.3),
(50, 'Cereal de desayuno (general)', 100, 'g', 375, 8.0, 80.0, 3.5),
(51, 'Tortilla de maíz', 100, 'g', 218, 5.7, 44.0, 3.6),
(52, 'Tortilla de harina', 100, 'g', 300, 8.0, 49.0, 7.0),
(53, 'Sopa de pollo (comercial)', 100, 'g', 40, 1.5, 3.0, 2.0),
(54, 'Caldo de verduras', 100, 'g', 10, 0.5, 1.0, 0.0),
(55, 'Puré de papa', 100, 'g', 88, 1.6, 17.5, 1.2),
(56, 'Lechuga', 100, 'g', 15, 1.4, 2.9, 0.2),
(57, 'Espinaca cruda', 100, 'g', 23, 2.9, 3.6, 0.4),
(58, 'Brócoli crudo', 100, 'g', 34, 2.8, 6.6, 0.4),
(59, 'Zanahoria cruda', 100, 'g', 41, 0.9, 9.6, 0.2),
(60, 'Tomate', 100, 'g', 18, 0.9, 3.9, 0.2),
(61, 'Pepino', 100, 'g', 16, 0.7, 3.6, 0.1),
(62, 'Cebolla', 100, 'g', 40, 1.1, 9.3, 0.1),
(63, 'Pimiento rojo', 100, 'g', 31, 1.0, 6.0, 0.3),
(64, 'Ajo', 100, 'g', 149, 6.4, 33.1, 0.5),
(65, 'Jengibre', 100, 'g', 80, 1.8, 17.8, 0.8),
(66, 'Limón', 100, 'g', 29, 1.1, 9.3, 0.3),
(67, 'Fresa', 100, 'g', 32, 0.7, 7.7, 0.3),
(68, 'Uva', 100, 'g', 69, 0.7, 18.1, 0.2),
(69, 'Sandía', 100, 'g', 30, 0.6, 7.6, 0.2),
(70, 'Melón', 100, 'g', 34, 0.8, 8.2, 0.2),
(71, 'Piña', 100, 'g', 50, 0.5, 13.1, 0.1),
(72, 'Mango', 100, 'g', 60, 0.8, 15.0, 0.4),
(73, 'Pera', 100, 'g', 57, 0.4, 15.2, 0.1),
(74, 'Kiwi', 100, 'g', 61, 1.1, 14.7, 0.5),
(75, 'Cereza', 100, 'g', 63, 1.1, 16.0, 0.2),
(76, 'Arándanos', 100, 'g', 57, 0.7, 14.5, 0.3),
(77, 'Frambuesa', 100, 'g', 52, 1.2, 11.9, 0.7),
(78, 'Mora', 100, 'g', 43, 1.4, 9.6, 0.5),
(79, 'Durazno', 100, 'g', 39, 0.9, 9.5, 0.3),
(80, 'Ciruela', 100, 'g', 46, 0.7, 11.4, 0.3),
(81, 'Dátil', 100, 'g', 277, 1.8, 75.0, 0.2),
(82, 'Higo', 100, 'g', 74, 0.8, 19.2, 0.3),
(83, 'Coco rallado', 100, 'g', 354, 3.3, 15.2, 33.5),
(84, 'Leche de coco', 100, 'ml', 230, 2.3, 6.0, 24.0),
(85, 'Leche de almendra', 100, 'ml', 17, 0.6, 0.6, 1.1),
(86, 'Café negro', 100, 'ml', 2, 0.3, 0.0, 0.0),
(87, 'Té verde', 100, 'ml', 1, 0.0, 0.0, 0.0),
(88, 'Jugo de naranja', 100, 'ml', 45, 0.7, 10.4, 0.2),
(89, 'Refresco cola', 100, 'ml', 42, 0.0, 10.6, 0.0),
(90, 'Cerveza', 100, 'ml', 43, 0.5, 3.6, 0.0),
(91, 'Vino tinto', 100, 'ml', 85, 0.1, 2.6, 0.0),
(92, 'Vodka', 100, 'ml', 231, 0.0, 0.0, 0.0),
(93, 'Pizza (margarita)', 100, 'g', 266, 11.0, 33.0, 10.0),
(94, 'Hamburguesa (con pan)', 100, 'g', 295, 17.0, 24.0, 14.0),
(95, 'Hot dog (con pan)', 100, 'g', 290, 10.4, 25.0, 16.0),
(96, 'Papas fritas', 100, 'g', 312, 3.4, 41.4, 15.0),
(97, 'Galletas tipo María', 100, 'g', 435, 7.0, 72.0, 13.0),
(98, 'Galletas de avena', 100, 'g', 450, 6.5, 68.0, 16.0),
(99, 'Pan dulce (concha)', 100, 'g', 411, 7.0, 51.0, 19.0),
(100, 'Pastel (chocolate)', 100, 'g', 371, 4.7, 50.7, 16.4),
(101, 'Dona glaseada', 100, 'g', 452, 5.3, 51.3, 25.5),
(102, 'Croissant', 100, 'g', 406, 8.2, 45.8, 21.0),
(103, 'Bagel simple', 100, 'g', 257, 10.0, 50.0, 1.5),
(104, 'Muffin de arándano', 100, 'g', 377, 6.2, 54.5, 15.2),
(105, 'Waffles', 100, 'g', 291, 7.9, 38.1, 11.6),
(106, 'Pancakes', 100, 'g', 227, 6.4, 28.3, 9.7),
(107, 'Nachos con queso', 100, 'g', 346, 9.0, 36.0, 18.0),
(108, 'Tacos de carne', 100, 'g', 226, 11.6, 18.0, 12.0),
(109, 'Burrito de frijol', 100, 'g', 198, 7.4, 30.5, 5.0),
(110, 'Quesadilla de queso', 100, 'g', 240, 10.0, 26.0, 10.0),
(111, 'Sushi (rollo california)', 100, 'g', 128, 3.8, 18.4, 3.9),
(112, 'Ensalada césar', 100, 'g', 190, 7.0, 7.0, 15.0),
(113, 'Ensalada verde simple', 100, 'g', 20, 1.5, 4.0, 0.2),
(114, 'Hummus', 100, 'g', 166, 8.0, 14.0, 10.0),
(115, 'Guacamole', 100, 'g', 150, 2.0, 9.0, 14.0),
(116, 'Salsa de tomate', 100, 'g', 29, 1.3, 6.7, 0.2),
(117, 'Mayonesa', 100, 'g', 680, 1.0, 0.6, 75.0),
(118, 'Ketchup', 100, 'g', 112, 1.0, 27.0, 0.1),
(119, 'Mostaza', 100, 'g', 60, 3.7, 5.3, 3.3),
(120, 'Vinagre', 100, 'ml', 18, 0.0, 0.8, 0.0),
(121, 'Salsa de soja', 100, 'ml', 53, 5.9, 4.9, 0.1);